# PlaygroundSeries_S3E14
<img width="1199" alt="image" src="https://user-images.githubusercontent.com/88224359/236422276-25f2412f-be9d-4bdd-acd8-1c9cba436060.png">

# Dataset Description
The dataset for this competition (both train and test) was generated from a deep learning model trained on the Wild blueberry Yield Prediction Dataset. (Since this is Playground 3.14, it seems like we need a Blueberry Pie joke here?) Feature distributions are close to, but not exactly the same, as the original. Feel free to use the original dataset as part of this competition, both to explore differences as well as to see whether incorporating the original in training improves model performance.

ã“ã®ã‚³ãƒ³ãƒšãƒ†ã‚£ã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆtrainã¨testã®ä¸¡æ–¹ï¼‰ã¯ã€Wild blueberry Yield Prediction Datasetã§è¨“ç·´ã—ãŸãƒ‡ã‚£ãƒ¼ãƒ—ãƒ©ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«ã‹ã‚‰ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚(Playground3.14ãªã®ã§ã€ã“ã“ã§ãƒ–ãƒ«ãƒ¼ãƒ™ãƒªãƒ¼ãƒ‘ã‚¤ã®ã‚¸ãƒ§ãƒ¼ã‚¯ãŒå¿…è¦ãªã‚ˆã†ãªï¼Ÿ) ç‰¹å¾´åˆ†å¸ƒã¯ã‚ªãƒªã‚¸ãƒŠãƒ«ã«è¿‘ã„ã§ã™ãŒã€å…¨ãåŒã˜ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã®ã‚³ãƒ³ãƒšãƒ†ã‚£ã‚·ãƒ§ãƒ³ã§ã¯ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’è‡ªç”±ã«ä½¿ã£ã¦ã€é•ã„ã‚’æ¢ã£ãŸã‚Šã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚’ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã«å–ã‚Šå…¥ã‚Œã‚‹ã“ã¨ã§ãƒ¢ãƒ‡ãƒ«ã®æ€§èƒ½ãŒå‘ä¸Šã™ã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

Content
"The dataset used for predictive modeling was generated by the Wild Blueberry Pollination Simulation Model, which is an open-source, spatially-explicit computer simulation program that enables exploration of how various factors, including plant spatial arrangement, outcrossing and self-pollination, bee species compositions and weather conditions, in isolation and combination, affect pollination efficiency and yield of the wild blueberry agroecosystem. The simulation model has been validated by the field observation and experimental data collected in Maine USA and Canadian Maritimes during the last 30 years and now is a useful tool for hypothesis testing and theory development for wild blueberry pollination researches."

ã€Œäºˆæ¸¬ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ã«ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¯ã€ãƒ¯ã‚¤ãƒ«ãƒ‰ãƒ–ãƒ«ãƒ¼ãƒ™ãƒªãƒ¼å—ç²‰ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚Œã¾ã—ãŸã€‚ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã€æ¤ç‰©ã®ç©ºé–“é…ç½®ã€äº¤é›‘ã¨è‡ªå®¶å—ç²‰ã€èœ‚ã®ç¨®ã®æ§‹æˆã€æ°—è±¡æ¡ä»¶ãªã©ã®æ§˜ã€…ãªè¦å› ãŒã€å˜ç‹¬ã¾ãŸã¯çµ„ã¿åˆã‚ã›ã§ã€ãƒ¯ã‚¤ãƒ«ãƒ‰ãƒ–ãƒ«ãƒ¼ãƒ™ãƒªãƒ¼è¾²æ¥­ç”Ÿæ…‹ç³»ã®å—ç²‰åŠ¹ç‡ã¨åé‡ã«ã©ã®ã‚ˆã†ã«å½±éŸ¿ã™ã‚‹ã‹ã‚’æ¢ç´¢ã§ãã‚‹ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®ç©ºé–“æ˜ç¤ºå‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™ã€‚ã“ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¢ãƒ‡ãƒ«ã¯ã€éå»30å¹´é–“ã«ç±³å›½ãƒ¡ã‚¤ãƒ³å·ã¨ã‚«ãƒŠãƒ€ãƒãƒªãƒ†ã‚£ãƒ¼ãƒ å·ã§åé›†ã•ã‚ŒãŸç¾åœ°è¦³å¯ŸãŠã‚ˆã³å®Ÿé¨“ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦æ¤œè¨¼ã•ã‚Œã€ç¾åœ¨ã§ã¯ãƒ¯ã‚¤ãƒ«ãƒ‰ãƒ–ãƒ«ãƒ¼ãƒ™ãƒªãƒ¼ã®å—ç²‰ç ”ç©¶ã®ä»®èª¬æ¤œè¨¼ã‚„ç†è«–æ§‹ç¯‰ã«å½¹ç«‹ã¤ãƒ„ãƒ¼ãƒ«ã¨ãªã£ã¦ã„ã¾ã™ã€‚"

Features Unit Description
| Features | Unit | Description | æ—¥æœ¬èª |
| --- | --- | --- | --- |
| Clonesize | m2 | The average blueberry clone size in the field | ç•‘ã®ãƒ–ãƒ«ãƒ¼ãƒ™ãƒªãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ³ã®å¹³å‡ã‚µã‚¤ã‚º |     
| Honeybee bees | m2| min Honeybee density in the field | ç•‘ã®ãƒŸãƒ„ãƒãƒå¯†åº¦æœ€å°å€¤ |    
| Bumbles bees| m2 | min Bumblebee density in the field | ç•‘ã®ãƒãƒ«ãƒãƒŠãƒãƒå¯†åº¦æœ€å°å€¤ |   
| Andrena bees| m2 | min Andrena bee density in the field | ç•‘ã®ãƒ’ãƒ¡ãƒãƒŠãƒãƒå¯†åº¦æœ€å°å€¤ |      
| Osmia bees| m2 | min Osmia bee density in the field | ç•‘ã®ã‚ªã‚¹ãƒŸã‚¢ãƒãƒå¯†åº¦æœ€å°å€¤ |    
| MaxOfUpperTRange | â„ƒ | The highest record of the upper band <br>daily air temperature during the bloom season | é–‹èŠ±æœŸã«ãŠã‘ã‚‹ä¸Šå±¤å¸¯æ—¥ä¸­ã®æœ€é«˜æ¸©åº¦ |    
| MinOfUpperTRange | â„ƒ | The lowest record of the upper band <br>daily air temperature |  é–‹èŠ±æœŸã«ãŠã‘ã‚‹ä¸Šå±¤å¸¯æ—¥ä¸­ã®æœ€ä½æ¸©åº¦ |    
| AverageOfUpperTRange | â„ƒ | The average of the upper band <br>daily air temperature | ä¸Šå±¤å¸¯æ—¥ä¸­å¹³å‡æ°—æ¸© |    
| MaxOfLowerTRange | â„ƒ | The highest record of the lower band <br>daily air temperature | ä¸‹å¸¯æ—¥ä¸­ã®æœ€é«˜æ¸©åº¦|    
| MinOfLowerTRange | â„ƒ | The lowest record of the lower band <br>daily air temperature | ä¸‹å¸¯æ—¥ä¸­ã®æœ€ä½æ¸©åº¦|    
| AverageOfLowerTRange | â„ƒ | The average of the lower band <br>daily air temperature | ä¸‹å¸¯æ—¥ä¸­æ°—æ¸©ã®å¹³å‡æ¸©åº¦|    
| RainingDays | Day | The total number of days during the bloom season,<br>each of which has precipitation larger than zero | é–‹èŠ±æœŸã«ãŠã„ã¦ã€é™æ°´é‡ãŒ0ã‚ˆã‚Šå¤§ãã„æ—¥ã®ç·æ—¥æ•°|    
| AverageRainingDays | Day | The average of raining days of the entire<br>bloom season | é–‹èŠ±æœŸå…¨ä½“ã®å¹³å‡é™é›¨æ—¥æ•°|    

# Reference
| No | Status | Name | Detail | Url |
| --- | --- | --- | --- | --- |
| 01 | to do | ğŸ‡Simple EDA and baseline in 2mintues! | voteãŒé«˜ã„code_1 | [url](https://www.kaggle.com/code/kimtaehun/simple-eda-and-baseline-in-2mintues)|
| 02 | to do | PS3E14 EDA_Various models & Ensemble baseline | voteåŠã³scoreãŒé«˜ã„code_2 | [url](https://www.kaggle.com/code/tetsutani/ps3e14-eda-various-models-ensemble-baseline)|
| 03 | to do | EDA, FE, Models, Ensemble for Starters | voteãŒé«˜ã„code_3 | [url](https://www.kaggle.com/datasets/shashwatwork/wild-blueberry-yield-prediction-dataset)|
| 04 | to do | PS S3E14, 2023 EDA and Submission | voteãŒé«˜ã„code_4 | [url](https://www.kaggle.com/code/sergiosaharovskiy/ps-s3e14-2023-eda-and-submission)|
| 05 | to do | [PS S3E14, 2023] First place winning solution | ä¸€ä½ã®è§£æ³• | [url](https://www.kaggle.com/code/sergiosaharovskiy/ps-s3e14-2023-first-place-winning-solution)|


# ã‚„ã£ã¦ã¿ãŸã„ã“ã¨ãƒªã‚¹ãƒˆ
| No | Status | Name | Detail |
| --- | --- | --- | --- |
| 01| done | EDA | EDA|.  
| 02| done | LightGBM | LightGBMã§ã®baseline|
| 03| to do | reference04èª­ã‚€ | XGBoostã®baseline |
| 04| to do |  | |


# Log
## 230520


## 230507
reference02ã‚’è‰²ã€…ã¨èª­ã¿ã€lightGBMã®æ¡ä»¶ã‚’è¦‹æ¯”ã¹ã¦ã„ã£ãŸã¨ã“ã‚'objective'ã‚’regression_l1ã«ã™ã‚‹ã¨æ ¼æ®µã«ã‚¹ã‚³ã‚¢ãŒè‰¯ããªã‚‹å‚¾å‘ã§ã‚ã£ãŸã€‚

## 230506
reference04ã‚’èª­ã‚“ã§ã¿ãŸã€‚ã‚¹ã‚³ã‚¢ã¯é«˜ã‹ã£ãŸãŒã€ãã®ã‚¹ã‚³ã‚¢ã¯XGBoostã®ã‚‚ã®ã§ã¯ãªã•ãã†ã€‚    

reference02ã‚’èª­ã‚“ã§ã¿ãŸã€‚
æ¦‚è¦ã¨ã—ã¦ã¯è‰²ã€…ãªãƒ¢ãƒ‡ãƒ«ï¼ˆåŒã˜ãƒ¢ãƒ‡ãƒ«ã§ã‚ã£ã¦ã‚‚ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å¤‰ãˆã¦ã„ã‚‹ã‚‚ã®ã‚‚å«ã‚€ï¼‰ã‚’ä½œã‚Šã€   
ãã‚Œã‚‰ã®ãƒ¢ãƒ‡ãƒ«ã®é‡ã¿ã‚’optunaã§æœ€é©åŒ–ã—ã¦ã„ã‚‹ã€‚    
æ­£ç›´ã‚ˆãã‚ã‹ã£ã¦ãŠã‚‰ãšã€æ¬¡ã«voteã®é«˜ã„ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã®codeã‚’èª­ã‚“ã§ã¿ã‚‹ã€‚    

reference03ã‚’èª­ã‚€ã€‚    
Adversarial Validationï¼ˆæ•µå¯¾çš„ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‚’åˆã‚ã¦çŸ¥ã£ãŸã€‚   
trainãƒ‡ãƒ¼ã‚¿ã¨testãƒ‡ãƒ¼ã‚¿ã®åˆ†å¸ƒãŒç•°ãªã£ã¦ã„ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã€‚    
trainã®yeildã‚’dropã—ã€test dataã«ã¯ãƒ©ãƒ™ãƒ«ã‚’ã¤ã‘ã€ã“ã®testãƒ‡ãƒ¼ã‚¿ã®ãƒ©ãƒ™ãƒ«ã‚’åˆ†é¡ã§ãã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹ã€‚    
ä»Šå›ã®ã‚³ãƒ¼ãƒ‰ã§ã¯trainã¨testã§ã¯AUCãŒã»ã¼0.5ã§ã‚ã£ãŸãŸã‚ã€trainã¨testã«å·®ã¯ã»ã¨ã‚“ã©ãªã„ã“ã¨ãŒã‚ã‹ã£ãŸã€‚    
ã—ã‹ã—original dataã§ã¯0ï¼ï¼—ã¨ãªã£ã¦ãŠã‚Šã€è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã«å«ã‚ãªã„æ–¹ãŒè‰¯ã•ãã†ã§ã‚ã‚‹ã€‚   
sns.kdeplotã§ã‚«ãƒ¼ãƒãƒ«å¯†åº¦ã‚’å‡ºã™ã“ã¨ãŒã§ãã‚‹ã€‚åˆ†å¸ƒã®å¯è¦–åŒ–ã«æœ‰åŠ¹ã€‚    
ç‰¹ã«ãƒ‡ãƒ¼ã‚¿æ•°ãŒç•°ãªã‚‹å ´åˆã€ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ã®ç¸¦ãŒç•°ãªã‚‹ãŸã‚ã‚ã‹ã‚Šã«ãããªã‚‹ã®ã§ã€ã‚«ãƒ¼ãƒãƒ«å¯†åº¦æ¯”è¼ƒãŒã„ã„ã¨æ€ã‚ã‚Œã‚‹ã€‚    
å¤šé‡å…±ç·šæ€§ãŒå¤šã„ãŸã‚ã€éšå±¤æœ¨ã§ã¿ã‚‹ã‚ˆã†ã ãŒã€ãªãœï¼Ÿ

## 230505
feature engineeringã§ä¸‹è¨˜ã‚’ä½œè£½ã—ãŸã€‚  
```
join['total_bees'] = join['honeybee'] + join['bumbles'] + join['andrena'] + join['osmia']
join['range_of_upperT'] = join['MaxOfUpperTRange'] - join['MinOfUpperTRange']
join['range_of_lowerT'] = join['MaxOfLowerTRange'] - join['MinOfLowerTRange']
join['diff_aveupper_lower'] = join['AverageOfUpperTRange'] - join['AverageOfLowerTRange']
join['MaxOfUpperTRange*RainingDays'] = join['MaxOfUpperTRange'] * join['RainingDays']
join['MinOfLowerTRange*RainingDays'] = join['MinOfLowerTRange'] * join['RainingDays']
join['clonesize*total_bees'] = join['clonesize'] * join['total_bees']
```
ãŸã ã—ã‚¹ã‚³ã‚¢ã¯ä¼¸ã³ãªã‹ã£ãŸã€‚

ç›¸é–¢ãŒå¼·ã„ã€‚   
[MaxOfUpperTRange, MinOfUpperTRange, AverageOfUpperTRange,MaxOfLowerTRange, MinOfLowerTRange,AverageOfLowerTRange]   
[RainingDays, AverageRainingDays]

## 230504
EDAãŠã‚ˆã³lightGBMã§baselineã‚’ä½œè£½ã—ãŸã€‚   
ä»Šå›ã®EDAã¯plotlyã‚’ä½¿ã£ã¦interactiveã«ä½œè£½ã€‚   
Public Score is 350.50063
ä»Šå›ã®EDAã¯plotlyã‚’ä½¿ã£ã¦interactiveã«ä½œè£½ã€‚   
